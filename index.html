<!DOCTYPE HTML>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!--Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

	<title>Teste Rota das Oficinas</title>

    <style>
        body {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            background-color: antiquewhite;
        }
    </style>
	
	
</head>
<body>

    <div class="container-fluid" >       
        <div class="row justify-content-center" >
            <div class="d-flex w-50 flex-column mt-5 text-center align-items-center justify-content-center rounded-3 shadow-lg " style="border:solid 1px black" >
                <h1 class="pt-5">Decimal Number Converter <br> in Roman Number</h1>
                <div class="input-field mt-5 pt-4 flex-column align-items-center justify-content-center text-center" >
                    <label for="decimal" class="active mt-5">Decimal Number:</label>
                    <input class="text-center form-control mt-2 " type="tel" placeholder="Inform a decimal number" id="decimal">
                </div>
                
                <div class="d-flex input-field mt-5 flex-column">
                    <label for="roman" class="active mt-5 ">Roman Number Result:</label>
                    <input class="form-control mt-2 mb-5 text-center" type="text" placeholder="Result" class="roman" id="roman" readonly="readonly">
                </div>

            </div>
        </div>
        
        
        
    </div>
	
	
    <script type="text/javascript">	
        const numberMap = {
            
            0 : [
                ''		//0
                ,'I' 	//1
                ,'II'	//2
                ,'III'	//3
                ,'IV'	//4
                ,'V'	//5
                ,'VI'	//6
                ,'VII'	//7
                ,'VIII'	//8
                ,'IX'	//9				
            ]
            
            ,1 : [
                ''		//10
                ,'X'	//10
                ,'XX'   //20
                ,'XXX'  //30
                ,'XL'   //40
                ,'L'    //50
                ,'LX'   //60
                ,'LXX'  //70
                ,'LXXX' //80
                ,'XC'   //90
            ]
            ,2 : [
                ''
                ,'C'	//100
                ,'CC'   //200
                ,'CCC'  //300				
                ,'CD'   //400
                ,'D'    //500
                ,'DC'   //600
                ,'DCC'  //700
                ,'DCCC' //800
                ,'CM' 	//900
            ]
            ,3 : [
                ''
                ,'M' //1000
            ]
        };
        
        function romanJs(input){		
        
            input = input.replace(/[^0-9]/, "");
            if(input == '') return'';
            
            var number = parseInt(input);
            
            if(number > 3999){
                return "Max number is 3999";
            }
            
        
            var orderNumber = Number(input).toString();
            var orderLength = orderNumber.length;
            
            
            var unidadeDezenaCentena = orderLength - 1;
            
            
            var newOrder = '';
            for(var i = unidadeDezenaCentena; i >= 0 ;i--){
                newOrder = newOrder + orderNumber.charAt(i);
            }
            
            var finalCast = '';
            for(var i = unidadeDezenaCentena; i >= 0 ;i--){
                var auxVar = parseInt(newOrder.charAt(i));
                finalCast = finalCast + numberMap[i][auxVar];
            }
            
            return finalCast;
        }
        
        
        document.getElementById("decimal").addEventListener('keyup', function() {		
            var romanNumber = romanJs(this.value);
            
            document.getElementById("roman").value = romanNumber;
            
            var numberCheck = this.value.replace(/[^0-9]/, "");
            if(numberCheck == '') return false;
            
        });

        
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</body>
</html>